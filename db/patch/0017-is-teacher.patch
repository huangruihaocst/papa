From d9b86859f517626ad37d0b888ebeebc74fc9fb95 Mon Sep 17 00:00:00 2001
From: Alex Wang <ice_b0und@hotmail.com>
Date: Thu, 1 Oct 2015 21:38:43 +0800
Subject: [PATCH 017/150] is teacher

---
 db/migrate/20150926114146_devise_create_users.rb   |  3 +--
 ...50930115150_add_lessons_studends_and_courses.rb |  2 +-
 db/schema.rb                                       | 28 ++++------------------
 3 files changed, 7 insertions(+), 26 deletions(-)

diff --git a/db/migrate/20150926114146_devise_create_users.rb b/db/migrate/20150926114146_devise_create_users.rb
index 7d11665..da3e030 100644
--- a/db/migrate/20150926114146_devise_create_users.rb
+++ b/db/migrate/20150926114146_devise_create_users.rb
@@ -21,8 +21,7 @@ class DeviseCreateUsers < ActiveRecord::Migration
       t.string   :current_sign_in_ip
       t.string   :last_sign_in_ip
 
-      ## student/assistant info
-      t.boolean   :is_student
+      t.boolean  :is_teacher
 
       t.timestamps null: false
     end
diff --git a/db/migrate/20150930115150_add_lessons_studends_and_courses.rb b/db/migrate/20150930115150_add_lessons_studends_and_courses.rb
index bdccad0..d23eefc 100644
--- a/db/migrate/20150930115150_add_lessons_studends_and_courses.rb
+++ b/db/migrate/20150930115150_add_lessons_studends_and_courses.rb
@@ -18,7 +18,7 @@ class AddLessonsStudendsAndCourses < ActiveRecord::Migration
     create_table :participations do |t|
       t.integer :course_id
       t.integer :user_id
-      t.string  :role
+      t.string  :role # student/assitant
     end
 
   end
diff --git a/db/schema.rb b/db/schema.rb
index 3f570f3..90e7a66 100644
--- a/db/schema.rb
+++ b/db/schema.rb
@@ -11,23 +11,13 @@
 #
 # It's strongly recommended that you check this file into your version control system.
 
-ActiveRecord::Schema.define(version: 20151001122224) do
+ActiveRecord::Schema.define(version: 20150930115150) do
 
   create_table "courses", force: :cascade do |t|
     t.string "name"
     t.text   "description"
   end
 
-  create_table "courses_assistants", force: :cascade do |t|
-    t.integer "course_id"
-    t.integer "user_id"
-  end
-
-  create_table "courses_students", force: :cascade do |t|
-    t.integer "course_id"
-    t.integer "user_id"
-  end
-
   create_table "lessons", force: :cascade do |t|
     t.string   "name",        null: false
     t.text     "description"
@@ -37,18 +27,10 @@ ActiveRecord::Schema.define(version: 20151001122224) do
     t.integer  "course_id"
   end
 
-  create_table "students", force: :cascade do |t|
-    t.string "name"
-  end
-
-  create_table "teachers", force: :cascade do |t|
-    t.string "name",               null: false
-    t.string "encrypted_password"
-  end
-
-  create_table "teachers_courses", force: :cascade do |t|
-    t.integer "teacher_id"
+  create_table "participations", force: :cascade do |t|
     t.integer "course_id"
+    t.integer "user_id"
+    t.string  "role"
   end
 
   create_table "users", force: :cascade do |t|
@@ -64,7 +46,7 @@ ActiveRecord::Schema.define(version: 20151001122224) do
     t.datetime "last_sign_in_at"
     t.string   "current_sign_in_ip"
     t.string   "last_sign_in_ip"
-    t.boolean  "is_student"
+    t.boolean  "is_teacher"
     t.datetime "created_at",                          null: false
     t.datetime "updated_at",                          null: false
   end
-- 
1.9.1

